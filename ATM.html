<!DOCTYPE html>
<html>
<head>
	<title>ATM</title>
	<style type="text/css">

	</style>
</head>
<body>
	 <div id="atm test"></div>

<script type="text/javascript">

var Balance = 500, // how many inside client account
    amount = 380 ,  // how many the client need to deposit or withdraw
    num_twenty = 3 , 
    num_fifty = 4 ,
    num_ten = 1 ,
    num_five = 4 ,
    name = "Ali" ;  

function welcomePage(){
	alert("Hello ,Please Enter Your Card");
	var Password = prompt("Enter your Password from 4 digits")  ;
	checkPassword(Password);
}

function checkPassword(Password){

	if(Password.length === 4  ){ 
    atm();
	}
	else {
		alert("'The Password in correct \n  Enter the Password Just once Again  ");
	/*   checkPassword(Password).repeat(1);
	   prompt("Enter your Password from 4 digits");
		 alert("Error Password");
*/
	}
}

 function atm(){
 	var transaction = prompt("please select your transaction Number : \n 1) WithDraw  \n 2) Deposit \n 3) Balance Check  \n 4)Exit ");
 	if(transaction == 1 ){
 		WithDraw();
 	}
 		else if ( transaction == 2 ){
 			Deposit();

 		}
 			else if (transaction == 3 ){
 				BalanceCheck();
 			}
 			else if ( transaction == 4 ){
 				exit();
 			}
 				else{
 					alert("Transaction is Error  \n Try Again ");

 				}

 }

function Deposit(){

  alert("please wait until the transaction complete") ;
  Balance = Balance + amount ; 
  alert("BILL : \n the Balance available " + Balance ) ; 
  atm();
}

function BalanceCheck(){
  alert("Your Current Balance is: \n" + Balance ) ; 
  atm();
}

function exit(){
alert("Welcome in ATM Bank.");

}
 
 function WithDraw(){

 	console.log("Balance \n " + Balance);
 	console.log("Amount\n" + amount);
 	console.log("number of 50 dinar inside Atm cassette \n " + num_fifty);
 	console.log("number of 20 dinar inside Atm cassette \n " + num_twenty);
 	console.log("number of 10 dinar inside Atm cassette \n " + num_ten);
 	console.log("number of 5 dinar inside Atm cassette \n " + num_five);
   
      
    if( Balance >= amount  && amount %5 == 0 ){
    	fiftyDinar(num_fifty);
}

else if (Balance <= amount || amount % 5 == 1){
	alert("Error WithDraw Transaction");
	atm();
}

}

function fiftyDinar(num_fifty){

if (amount>=50 && num_fifty > 0) {
     amount = amount - 50 ;
     return fiftyDinar(num_fifty-1);    
}
console.log(" The Total Amount from fifty dinar cassette    " + amount );
twentyDinar(num_twenty);

}

function  twentyDinar(num_twenty){
if (amount>=20 && num_twenty > 0) {
     amount = amount - 20 ;
     return twentyDinar(num_twenty-1);    
}

console.log(" \n The Total Amount from twenty  dinar " + amount );
tenDinar(num_ten);

}

function  tenDinar(num_ten){
if (amount>=10 && num_ten > 0) {
     amount = amount - 10 ;
     return tenDinar(num_ten-1);    
}

console.log(" \n The Total Amount from ten dinar " + amount );
 fiveDinar(num_five);

}

function fiveDinar(num_five){
	if (amount>=5 && num_five > 0) {
     amount = amount - 5 ;
     return fiveDinar(num_five-1);    
}

console.log(" \n The Total Amount from five dinar " + amount  );
 finalamount();

}
function finalamount(){
 
 if (amount == 0 ) {
 	alert("please wait until the transaction completed" + amount + "<br>"); 

 }
 else{
 	alert("the ATM out of money" );
 }

}

 welcomePage();

</script>
</body>
</html>